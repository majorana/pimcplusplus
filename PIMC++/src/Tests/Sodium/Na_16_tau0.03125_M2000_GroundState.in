double tau=0.03125;

Section (Parallel)
{
  int ProcsPerClone = 1;
}


// This system contains 16 sodium atoms at T = 2210 *1143/1000 Kevin 
// and experimental lattice constant of 8.003 bohr
// Note:  energy per isolated atom for this PH is -0.1950864451427349 hartrees.
Section (System)
{
  int NumTimeSlices=2000;
  Array<bool,1> IsPeriodic(3) = [true,true,true];
  Array<double,1> Box(3)=[16.006, 16.006,16.006];
  double kCutoff = 1.2;
  Section (Particles)
  {
    Section (Species)
    {
      string Name="Na";
      string Type="Na+";
      double lambda=0.0; 
      string Statistics="BOLTZMANNON";
      string NodeType = "NONE";
      int NumParticles=16;
      int NumDim=3;
      string InitPaths="BCC";
    }
    Section (Species)
    {
      string Name="edown";
      string Type = "e";
      string Statistics = "FERMION";
      double lambda=0.5; 
      string NodeType = "GROUNDSTATE";
      int NumParticles=8;
      int NumDim=3;
      string InitPaths="LEVIFLIGHT";
      Array<double,2> Positions(8,3)=
        [ -8.103005, -8.50300, -8.60300,
	  -8.303008, -8.60300,   0.90000,
	  -8.203001,   0.30000, -8.50300,
            0.400003, -8.10300, -8.10300,
	  -8.503004,   0.80000,   0.20000,
            0.600007, -8.10300,   0.70000,
            0.700003,   0.60000, -8.20300,
            0.800001,   0.20000,   0.50000 ];
      
    }
    Section (Species)
    {
      string Name="eup";
      string Type="e";
      double lambda=0.5; 
      string Statistics="FERMION";
      string NodeType = "GROUNDSTATE";
      int NumParticles=8;
      int NumDim=3;
      string InitPaths="LEVIFLIGHT";
      Array<double,2> Positions(8,3)=
	[ -4.30146, -4.3014, -4.2014,
          -4.10141,  4.9014, -4.3014,
          -4.40143, -4.7014,  4.8014,
          -4.10148,  4.9014,  4.4014,
           4.50142, -4.8014, -4.6014,
           4.90145, -4.5014,  4.2014,
           4.20145,  4.3014, -4.6014,
           4.60141,  4.5014,  4.4014 ];
    }

  }
}


Section (Action)
{
  int MaxLevels = 7;
  bool UseRPA = false;
  int NumBreakupKnots = 20;
  int NumImages = 1;
  Array<string,1> PairActionFiles(3) = 
    ["Na-Na.PairAction",
     "/localscratch/esler/NaPH_US_April11_05.fixfit.beta8.0.h5",
     "/localscratch/esler/e-e.fit.beta8.0.h5"];
  //     "e-e_beta8.0.coulombBCfit.h5"];
  Section (NodalAction)
  {
    string Type = "GROUNDSTATE";
    string IonSpecies  = "Na";
    string UpSpecies   = "eup";
    string DownSpecies = "edown";
    double kCut = 2.0;
  }
}

Section (Observables)
{
  string OutFileBase = "/localscratch/esler/NaRuns/Na_16_tau0.03125_M2000_plotWF";
  Section (Observable) {
    string type = "Energy";
    string Name = "Energy";
    int freq=20;
    int dumpFreq=100;
    
  }
  Section (Observable) {
    string type = "PairCorrelation";
    string Name = "Na-eup";
    string Species1 = "Na";
    string Species2 = "eup";
    int freq=20;
    int dumpFreq=100;
    Section (Grid) {
      string type = "Linear";
      int NumPoints = 200;
    }
  }
  Section (Observable) {
    string type = "PairCorrelation";
    string Name = "Na-edown";
    string Species1 = "Na";
    string Species2 = "edown";
    int freq=20;
    int dumpFreq=100;
    Section (Grid) {
      string type = "Linear";
      int NumPoints = 200;
    }
  }
  Section (Observable) {
    string type = "PairCorrelation";
    string Name = "eup-eup";
    string Species1 = "eup";
    string Species2 = "eup";
    int freq=20;
    int dumpFreq=100;
    Section (Grid) {
      string type = "Linear";
      int NumPoints = 200;
    }
  }
  Section (Observable) {
    string type = "PairCorrelation";
    string Name = "eup-edown";
    string Species1 = "eup";
    string Species2 = "edown";
    int freq=20;
    int dumpFreq=100;
    Section (Grid) {
      string type = "Linear";
      int NumPoints = 200;
    }
  }
  Section (Observable) {
    string type = "PairCorrelation";
    string Name = "edown-edown";
    string Species1 = "edown";
    string Species2 = "edown";
    int freq=20;
    int dumpFreq=100;
    Section (Grid) {
      string type = "Linear";
      int NumPoints = 200;
    }
  }
  Section (Observable) {
    string type = "PathDump";
    string Name = "PathDump";
    int dumpFreq = 500;
  }
}


Section (Moves) {
  Section (Move) {
    string type="BisectionBlock";
    string name="eupBlock";
    //string PermuteType="TABLE";
    string PermuteType="NONE";
    Array<double,1> Gamma(4) = [1.0, 1.0, 1.0, 1.0];
    int NumLevels=7;
    string Species = "eup";
    int StepsPerBlock=8;
  }
  Section (Move) {
    string type="BisectionBlock";
    string name="edownBlock";
    string PermuteType="NONE";
    //string PermuteType="TABLE";
    Array<double,1> Gamma(4) = [1.0, 1.0, 1.0, 1.0];
    int NumLevels=7;
    string Species = "edown";
    int StepsPerBlock=8;
  }

  Section (Move) {
    string type="RefSlice";
    string name="upRefSlice";
    string PermuteType="NONE";
    int NumLevels=7;
    string Species = "eup";
  }

  Section (Move) {
    string type="RefSlice";
    string name="downRefSlice";
    string PermuteType="NONE";
    int NumLevels=7;
    string Species = "edown";
  }

  Section (Move) {
    string type = "Displace";
    string name = "NaDisplace";
    Array<string,1> ActiveSpecies(1) = ["Na"];
    double Sigma = 1.0;
  }

  Section (Move) {
    string type="ShiftMove";
    string name="Shift";
  }
}

 


Section (Algorithm) {
  ////////////////////////
  // Equilibration loop //
  ////////////////////////
  Section (Loop) { 
    int steps=1000;
    Section (Loop){
      int steps=1;
      Section (Loop){
        int steps=2;
        Section (Move) { string name="eupBlock";} 
        Section (Move) { string name="edownBlock";} 
// 	Section (Move) { string name="upRefSlice";} 
// 	Section (Move) { string name="downRefSlice";} 
      }
      Section (Move) { string name = "Shift"; }
    }
    //Section (Move) { string name = "NaDisplace";}
    //Section (Observe) { string name = "PathDump"; }
  }

  Section (Loop) { //Start Accumulating observables
    int steps=6000000;
    Section (Loop){
      int steps=1;
      Section (Loop){
        int steps=2;
        Section (Move) { string name="eupBlock";} 
        Section (Move) { string name="edownBlock";} 
//         Section (Move) { string name="upRefSlice";} 
//         Section (Move) { string name="downRefSlice";} 
      }
      Section (Move) { string name = "Shift"; }
    }
    //Section (Move) { string name = "NaDisplace";}
    //Section (Move) {string name="Permutations";} 
    Section (Observe) { string name = "Na-eup";}
    Section (Observe) { string name = "Na-edown";}
    Section (Observe) { string name = "eup-eup";}
    Section (Observe) { string name = "edown-edown";}
    Section (Observe) { string name = "eup-edown";}
    Section (Observe) { string name = "Energy"; }
    Section (Observe) { string name = "PathDump"; }
  }
}




	  
